@startuml DiagramaCentral

' tema

!define MyFontColor #000000
!define MyBorderColor #800080
!define MyBackgroundColor #E6E6FA
!define MyArrowColor #800080

skinparam defaultFontName Arial
skinparam DefaultFontSize 13
skinparam Linetype ortho
skinparam Arrowcolor MyArrowColor
skinparam ArrowThickness 2
skinparam Classbordercolor MyBorderColor
skinparam ClassBorderThickness 2
skinparam ClassBackgroundColor MyBackgroundColor
skinparam Shadowing true
skinparam GroupInheritance 1
skinparam NoteBackgroundColor yellow
skinparam NoteBorderThickness 2

' clases

abstract class CombustibleNuclear {
  	# cantidad: number
  	# limite: number

  	+ recargar(cantidad: number): void
  	+ {abstract} consumir(cantidad: number): number
  	+ tieneCombustible(): boolean
  	+ {abstract} calcularEnergiaTermica(cantidad: number): number
}

class Uranio extends CombustibleNuclear {
  	+ consumir(cantidad: number): number
  	+ calcularEnergiaTermica(cantidad: number): number
}

abstract class SistemaDeRegulacionTermica {
    - estado: boolean
    + encenderSistema(): void
    + apagarSistema(): void
    + getEstado(): boolean
    + abstract controlarTemperatura(temperatura: number): void
    + abstract getEnergiaTermica(energiaTermica: number): number
}

class BarraDeControl{
    - vidaUtil: number
    - nroSerie: number
    + getVidaUtil(): number
    + setVidaUtil(TiempovidaUtil: number): void
    + controlarVidaUtil(vidaUtil:number): void
    + desgasteBarraVidaUtil(): Number
	+ getNroSerie(): number
	+ setNroSerie(nroSerie:number):void
}

class SistemaBarrasDeControl extends SistemaDeRegulacionTermica{
    - barrasDeControl:Array<BarraDeControl>
	- barrasGastadas:number
	+ getBarrasGastadas():number
	+ aumentarBarrasGastadas():void
    + isEmpty(): boolean
    + addBarra(barraControl:BarraDeControl): void
    + removeBarra(): void
    + getBarraActual(): BarraDeControl
    + comprobarReemplazo(barraActual:BarraDeControl): void
    - procesarBarra(): void
    + controlarEnergiaTermica(temperatura:number): void
    + getPorcentajeProduccion(): number
    + getEnergiaTermica(energiaTermica: number): number
	+ getBarras():Array<BarraDeControl>|undefined
}

class SensorTermico {
  	- temperatura: number
	- computadora: Computadora

  	+ medir(): number
	- enviarAlertaTemperatura(alerta: AlertaTemperatura): void
}

class Email {
  	- reactor: Reactor
	- Notificador: Notificador

  	+ enviarAlerta(): void
  	+ activarModoEnfriamiento(): void
}

class Computadora {
  	- sistemaRegulacionTermica: SistemaRegulacionTermica

  	+ recibirAlertaTemperatura(): void
  	- activarModoEnfriamiento(): void
}

class Reactor {
	- consumoCombustible: number
	- capacidadProductiva: number
	- energiaTermica: number
	- estado: EstadoReactor
	- combustible: CombustibleNuclear
	- sistemaRegulacionTermica: SistemaRegulacionTermica
	- sensor: SensorTermico

	+ iniciar(): void
	+ mantener(): void
	+ detener(): void
	+ generarEnergiaTermica(): number
	- reducirEnergiaTermica(): void
	- calcularCapacidadProductiva(): void
	- controlarEstado(): void
	- consumirCombustible(cantidad: number): void
	- controlarEnergiaTermica(energiaTermica: number): number
}

class Generador {
	+ generarEnergiaElectrica(energiaTermica: number): number
}

class CentralNuclear {
	- reactor: Reactor
	- generador: Generador

	+ generarEnergia(): number
}

interface Estado {
	+ generarEnergia(): void
	+ refrigerar(): void
}

class Normal {

}

class Critico {

}

class Emergencia {

}

interface Notificable {
    + enviarAlerta(temperatura: double, estado: Estado): void
}

' relaciones

Reactor *-r- CombustibleNuclear
Reactor *-- SensorTermico
Reactor *-l- SistemaDeRegulacionTermica
Reactor *-d- Estado

SistemaBarrasDeControl *-- BarraDeControl

CentralNuclear *-- Reactor
CentralNuclear *-l- Generador

Notificador <|.. Email
Notificador <.u. Reactor

Estado <|.. Normal
Estado <|.. Critico
Estado <|.. Emergencia

@enduml